[{"content":"Rocket.chat Setup This a basic guide on how we can install Rocket.chat on Ubuntu LXC.\nThis is a part 1 of 2 part series. In this part, we will look into how to install MongoDB, NodeJS \u0026amp; Rocket.Chat and also configure them.\nIn the next part, we will see how to reverse proxy the localhost:3000 to a domain and install SSL certificate.\nRequirements Ubuntu: 20.04 NodeJS: 14.19.3 NPM: 6.14.17 Mongodb: 5.0 Installing Pre-requisites (NodeJS, NPM, \u0026amp; MongoDB) NodeJS \u0026amp; NPM We will be using nvm to install NodeJS and NPM.\nSteps: Install NVM\ncurl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | shell List all available NodeJS version\nnvm ls-remote Install specified NodeJS version, in our case it v14.19.3.\nnvm install v14.19.3 Check NPM version\nnpm -v 6.14.17 MongoDB We will be adding MongoDB from official repo, which is not in default Ubuntu LXC source list.\nSteps:\nInstall gnupg\nsudo apt install gnupg Import mongodb key\nwget -qO - https://www.mongodb.org/static/pgp/server-5.0.asc | sudo apt-key add - Create the list file\n/etc/apt/sources.list.d/mongodb-org-5.0.list Add repo url to source list file\necho \u0026#34;deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu focal/mongodb-org/5.0 multiverse\u0026#34; | sudo tee /etc/apt/sources.list.d/mongodb-org-5.0.list Update local package db\nsudo apt-get update Install MongoDB\nsudo apt-get install -y mongodb-org Installing Rocket.Chat Install dependencies\nsudo apt install -y curl build-essential graphicsmagick Download Rocket.Chat binary:\ncurl -L https://releases.rocket.chat/latest/download -o /tmp/rocket.chat.tgz Extract the archive\ntar -xzf /tmp/rocket.chat.tgz -C /tmp Install npm packages:\ncd /tmp/bundle/programs/server \u0026amp;\u0026amp; npm install --production NOTE: If you\u0026rsquo;re using the root account (not recommended), you\u0026rsquo;ll have to use sudo npm install --unsafe-perm --production instead of the above.\nCopy built package to /opt folder\nsudo mv /tmp/bundle /opt/Rocket.Chat Configure the Rocket.Chat service Add the rocketchat user\nsudo useradd -M rocketchat \u0026amp;\u0026amp; sudo usermod -L rocketchat Set the right permissions on the Rocket.Chat folder\nsudo chown -R rocketchat:rocketchat /opt/Rocket.Chat Save node path in variable to pass it on service file\nNODE_PATH=$(which node) Create \u0026amp; save the systemd service file\ncat \u0026lt;\u0026lt; EOF |sudo tee -a /lib/systemd/system/rocketchat.service [Unit] Description=The Rocket.Chat server After=network.target remote-fs.target nss-lookup.target nginx.service mongod.service [Service] ExecStart=$NODE_PATH /opt/Rocket.Chat/main.js StandardOutput=syslog StandardError=syslog SyslogIdentifier=rocketchat User=rocketchat [Install] WantedBy=multi-user.target EOF Passing environment variables Pass some environment variables to the running process.\nFor more information of configuring via environment variables read this article.\nRun:\nsudo systemctl edit rocketchat It will open in vim or nano based on your system. Now, write the following in the file\n[Service] Environment=ROOT_URL=http://localhost:3000 Environment=PORT=3000 Environment=MONGO_URL=mongodb://localhost:27017/rocketchat?replicaSet=rs01 Environment=MONGO_OPLOG_URL=mongodb://localhost:27017/local?replicaSet=rs01 Change the values as you need. Save and exit.\nMongoDB Configuration MongoDB config file should look something like the following:\nstorage: dbPath: /var/lib/mongodb journal: enabled: true engine: wiredTiger systemLog: destination: file logAppend: true path: /var/log/mongodb/mongod.log net: port: 27017 bindIp: 127.0.0.1 processManagement: fork: true timeZoneInfo: /usr/share/zoneinfo replication: replSetName: rs01 Start MongoDB with the following command:\nsudo systemctl enable --now mongod If MongoDB is already started, do a restart of the service\nsudo systemctl restart mongod Create the replicaset:\nmongo --eval \u0026#34;printjson(rs.initiate())\u0026#34; You can start Rocket.Chat now.\nsudo systemctl enable --now rocketchat Related Links Rocket.Chat Doc Proxmox VE NVM MongoDB Doc ","permalink":"https://masum.me/posts/rocket-chat-setup-on-lxc/","summary":"Rocket.chat Setup This a basic guide on how we can install Rocket.chat on Ubuntu LXC.\nThis is a part 1 of 2 part series. In this part, we will look into how to install MongoDB, NodeJS \u0026amp; Rocket.Chat and also configure them.\nIn the next part, we will see how to reverse proxy the localhost:3000 to a domain and install SSL certificate.\nRequirements Ubuntu: 20.04 NodeJS: 14.19.3 NPM: 6.14.17 Mongodb: 5.","title":"Rocket.chat Setup on LXC Container"},{"content":"Hello Welcome, I am Masumul Hassan.\nThe name of the blog is The 8-bit Brain.\nThe main purpose for this blog is to share/document some project/knowledge/idea related to different projects that I do.\nAbout Me Based in Dhaka, Bangladesh. I am working as a Software Engineer on a day to day basis. I worked with different languages and frameworks. I am focusing on IT security.\nTechnologies:\nC# \u0026amp; .NET Core (Currently working with ❤ ), Java \u0026amp; Grails/Struts, PHP \u0026amp; CakePHP/Laravel, A bit of JavaScript \u0026amp; React, A bit of other web technologies. Contact me at contact@masum.me.\nAbout Blog This blog is built with the help of some really awesome open-source projects and more.\nHugo https://gohugo.io/ Hugo-PaperMod https://github.com/adityatelange/hugo-PaperMod Websites code and deployed using GitHub Cloudflare used as CDN \u0026amp; reverse proxy Here is the source code of the blog Blog deployed on\nGitHub Pages Reverse proxied by\nCloudflare Thank You for Reading Related Links Powered by Hugo with PaperMode theme Deployed by GitHub Pages Reverse Proxied by Cloudflare ","permalink":"https://masum.me/about/","summary":"Hello Welcome, I am Masumul Hassan.\nThe name of the blog is The 8-bit Brain.\nThe main purpose for this blog is to share/document some project/knowledge/idea related to different projects that I do.\nAbout Me Based in Dhaka, Bangladesh. I am working as a Software Engineer on a day to day basis. I worked with different languages and frameworks. I am focusing on IT security.\nTechnologies:\nC# \u0026amp; .NET Core (Currently working with ❤ ), Java \u0026amp; Grails/Struts, PHP \u0026amp; CakePHP/Laravel, A bit of JavaScript \u0026amp; React, A bit of other web technologies.","title":"About"},{"content":"","permalink":"https://masum.me/archives/","summary":"","title":"Archives"},{"content":"","permalink":"https://masum.me/projects/","summary":"","title":"Projects"}]